<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MovieFlip</title>
  <link rel="preconnect" href="https://image.tmdb.org" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="app-shell">
    <header class="top-bar">
      <h1>MovieFlip</h1>
      <p>Swipe your taste. Get better recommendations.</p>
    </header>

    <section class="config-panel" id="configPanel">
      <h2>Connect TMDB</h2>
      <p>Enter your free TMDB API key (read access token) to load movies.</p>
      <div class="config-row">
        <input id="apiKeyInput" type="password" placeholder="TMDB Bearer token" autocomplete="off" />
        <button id="saveApiKeyBtn">Save Key</button>
      </div>
      <small>
        Get one at <a href="https://www.themoviedb.org/settings/api" target="_blank" rel="noreferrer">themoviedb.org</a>. Store it with domain restrictions when possible.
      </small>
    </section>

    <section class="dashboard">
      <div class="counter-box">
        <strong id="flipCounter">0</strong>
        <span>Flips completed</span>
      </div>
      <div class="counter-box">
        <strong id="likesCounter">0</strong>
        <span>Likes</span>
      </div>
      <div class="counter-box">
        <strong id="watchedCounter">0</strong>
        <span>Watched</span>
      </div>
      <div class="counter-box">
        <strong id="dislikesCounter">0</strong>
        <span>Dislikes</span>
      </div>
    </section>

    <section class="card-stage">
      <article class="movie-card" id="movieCard">
        <div class="poster-wrap">
          <img id="moviePoster" alt="Movie poster" />
        </div>
        <div class="card-body">
          <h2 id="movieTitle">Load a movie</h2>
          <p id="movieMeta"></p>
          <p id="movieOverview"></p>
          <div class="genre-list" id="genreList"></div>
        </div>
      </article>
      <p class="empty-note" id="emptyNote" hidden>No movies left in queue. Loading more...</p>
    </section>

    <section class="actions">
      <button class="action-btn dislike" id="dislikeBtn">Dislike</button>
      <button class="action-btn watched" id="watchedBtn">Watched</button>
      <button class="action-btn like" id="likeBtn">Like</button>
    </section>

    <section class="recommendations" id="recommendationsSection" hidden>
      <div class="recommendations-head">
        <h2>Recommended for You</h2>
        <button id="refreshRecsBtn">Refresh</button>
      </div>
      <div id="recommendationsGrid" class="recommendations-grid"></div>
    </section>

    <section class="watched-panel">
      <h2>Rate Watched Movies</h2>
      <p>Ratings improve your recommendation profile.</p>
      <div id="watchedList" class="watched-list"></div>
    </section>
  </main>

  <template id="watchedItemTemplate">
    <div class="watched-item">
      <span class="watched-title"></span>
      <div class="rating-group"></div>
    </div>
  </template>

  <template id="recCardTemplate">
    <article class="rec-card">
      <img class="rec-poster" alt="Recommended poster" />
      <div class="rec-body">
        <h3 class="rec-title"></h3>
        <p class="rec-meta"></p>
      </div>
    </article>
  </template>

  <script src="app.js" type="module"></script>
</body>
</html>
